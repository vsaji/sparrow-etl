<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XML Spy v4.4 U (http://www.xmlspy.com)-->
<SPEAR-CONFIG xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\app\DB-FOBOCA\schema\spear_NEW.xsd">
	<MODULE>
		<NAME>Test Application</NAME>
		<DESCRIPTION>For Testing</DESCRIPTION>
		<CYCLE-DEPENDENCIES>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.ShutdownTimeCheckDependant"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.EndCycleCheckDependant"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.ProcessTerminationCheckDependant"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.CycleCountCheckDependant"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.SystemGCForcer"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.StatsCollector"/>
		</CYCLE-DEPENDENCIES>
		<MODULE-PARAM>
		   <PARAM NAME="spear.semaphore.check" VALUE="false"/>
		   <PARAM NAME="spear.keyassigner" VALUE="com.cs.sg.spear.impl.assigner.RoundRobinKeyAssigner"/>
		   <PARAM NAME="spear.process.name" VALUE="SPEAR_TMS_JP"/>
		   <PARAM NAME="spear.run.interval" VALUE="10000"/>
  		   <PARAM NAME="spear.shutdown.format" VALUE="HH:mm"/>
		   <PARAM NAME="spear.shutdown" VALUE="16:04"/>
		   <PARAM NAME="spear.cycle.count" VALUE="10"/>
		</MODULE-PARAM>
	</MODULE>
	
	<DATA-EXTRACTOR NAME="csvextractor">
		<PARAM NAME="data.provider" VALUE="ods"/>
	</DATA-EXTRACTOR>

	<DATA-TRANSFORMER NAME="xmltrans" CLASS="com.cs.sg.spear.impl.transformer.DefaultDataTransformer" POOL-SIZE="150" THREAD-COUNT="1" />

	<DATA-WRITERS ON-ERROR="ignore" THREAD-COUNT="5">
		<WRITER NAME="writer3" CLASS="com.cs.sg.spear.impl.writer.DummyDataWriter" >
			<PARAM NAME="single.reference" VALUE="false"/>
			<PARAM NAME="data.provider" VALUE="u3"/>
			<PARAM NAME="key.name" VALUE="input.value.3,input.value.1"/>
		</WRITER>
	</DATA-WRITERS>
<RESOURCES>
		<RESOURCE NAME="DSGINS71OLD" TYPE="DB">
			<PARAM NAME="driverClassName" VALUE="oracle.jdbc.OracleDriver"/>
			<PARAM NAME="connectionUrl" VALUE="jdbc:oracle:thin:@(description=(address_list= (address=(host=DSGINS71) (protocol=tcp)(port=1522))(address=(host=DSGINS72)(protocol=tcp) (port=1522)) (load_balance=no)(failover=yes))(connect_data=(service_name= DSGINS70.WORLD)))"/>
			<PARAM NAME="userName" VALUE="inspire_dev"/>
			<PARAM NAME="password" VALUE="jakarta81"/>
			<PARAM NAME="poolSize" VALUE="25"/>
			<PARAM NAME="poolOnStart" VALUE="false"/>
			<PARAM NAME="maxWait" VALUE="5000"/>
			<PARAM NAME="defaultAutoCommit" VALUE="true"/>
		</RESOURCE>
		<RESOURCE NAME="DSGINS71" TYPE="DB">
			<PARAM NAME="driverClassName" VALUE="oracle.jdbc.OracleDriver"/>
			<PARAM NAME="connectionUrl" VALUE="jdbc:oracle:thin:@(description=(address_list= (address=(host=DSGINS51) (protocol=tcp)(port=1522))(address=(host=DSGINS52)(protocol=tcp) (port=1522)) (load_balance=no)(failover=yes))(connect_data=(service_name= DSGINS50.WORLD)))"/>
			<PARAM NAME="userName" VALUE="inspire_dev"/>
			<PARAM NAME="password" VALUE="inspire_dev"/>
			<PARAM NAME="poolSize" VALUE="25"/>
			<PARAM NAME="poolOnStart" VALUE="false"/>
			<PARAM NAME="maxWait" VALUE="5000"/>
			<PARAM NAME="defaultAutoCommit" VALUE="true"/>
		</RESOURCE>
		<RESOURCE NAME="SYBASE" TYPE="DB">
			<PARAM NAME="driverClassName" VALUE="com.sybase.jdbc.SybDriver"/>
			<PARAM NAME="connectionUrl" VALUE="jdbc:sybase:Tds:167.168.148.202:2325/DSGOPPOET11/cs_db"/>
			<PARAM NAME="userName" VALUE="app_cs"/>
			<PARAM NAME="password" VALUE="app_cs"/>
			<PARAM NAME="poolSize" VALUE="25"/>
			<PARAM NAME="maxWait" VALUE="5000"/>
			<PARAM NAME="defaultAutoCommit" VALUE="true"/>
		</RESOURCE>
		<RESOURCE NAME="DB2TEST" TYPE="DB">
			<PARAM NAME="driverClassName" VALUE="com.ibm.db2.jcc.DB2Driver"/>
			<PARAM NAME="connectionUrl" VALUE="jdbc:db2:DSNP1"/>
			<PARAM NAME="userName" VALUE="veweb"/>
			<PARAM NAME="password" VALUE="tuesday"/>
			<PARAM NAME="poolSize" VALUE="25"/>
			<PARAM NAME="maxWait" VALUE="5000"/>
			<PARAM NAME="defaultAutoCommit" VALUE="true"/>
		</RESOURCE>
		<RESOURCE NAME="CSVDB" TYPE="CSV">
			<PARAM NAME="filePath" VALUE="C:\app\DB-FOBOCA\samples"/>
			<PARAM NAME="separator" VALUE=","/>
			<PARAM NAME="suppressHeaders" VALUE="false"/>
			<PARAM NAME="headerRowNumber" VALUE="1"/>
			<PARAM NAME="createHeader" VALUE="false"/>
			<PARAM NAME="fileNameExtention" VALUE=".csv"/>
			<PARAM NAME="filePattern" VALUE=""/>
		</RESOURCE>
		<RESOURCE NAME="MQDEVE" TYPE="MQ">
			<PARAM NAME="hostname" VALUE="sgs45d-093.sg.csfb.com"/>
			<PARAM NAME="port" VALUE="1414"/>
			<PARAM NAME="channel" VALUE="SGUITD01_SVRCONN"/>
			<PARAM NAME="qmanager" VALUE="SGUITD01"/>
		</RESOURCE>
		<RESOURCE NAME="JMSTEST" TYPE="JMS">
			<PARAM NAME="jmsType" VALUE="queue"/>
			<PARAM NAME="providerUrl" VALUE="t3://sgl45a-0106.sg.csfb.com:10100"/>
			<PARAM NAME="initialContextFactoy" VALUE="weblogic.jndi.WLInitialContextFactory"/>
			<PARAM NAME="connectionFactory" VALUE="inspire.queueconnectionfactory"/>
		</RESOURCE>
	</RESOURCES>
<SERVICES>
		<SERVICE NAME="semaphore" CLASS="com.cs.sg.spear.impl.services.DBSemaphoreService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true" DEPENDS="s1">
			<PARAM NAME="check.status" VALUE="semaphore_select"/>
			<PARAM NAME="update.status" VALUE="semaphore_update"/>			
			<PARAM NAME="pre.start.status" VALUE="C"/>
			<PARAM NAME="post.start.status" VALUE="P"/>
			<PARAM NAME="end.status" VALUE="C"/>
			<PARAM NAME="termination.status" VALUE="K"/>
		</SERVICE>
		<SERVICE NAME="s1" CLASS="com.cs.sg.spear.core.services.TestService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true"/>

	</SERVICES>	
	<DATA-PROVIDERS>
		<DATA-PROVIDER NAME="ods" TYPE="CSV">
			<PARAM NAME="fetch.size" VALUE="300"/>
			<PARAM NAME="result.wrap" VALUE="connected"/>
			<PARAM NAME="file.source.dir" VALUE="C:/app/spearnew/test/csv/src"/>
			<PARAM NAME="file.pattern" VALUE="BR_FIT_ODS_20080402.csv"/>
			<PARAM NAME="file.delimiter" VALUE="comma"/>
			<PARAM NAME="file.processor" VALUE=""/>
			<PARAM NAME="column.count" VALUE="13"/>
			<PARAM NAME="header.line.number" VALUE="2"/>
			<PARAM NAME="validation.required" VALUE="false"/>
			<PARAM NAME="rejection.report.type" VALUE="file"/>
			<PARAM NAME="rejection.report.source" VALUE="C:/app/spearnew/test/csv/report"/>
			<PARAM NAME="fail.dir" VALUE="C:/app/spearnew/test/csv/fail"/>
			<PARAM NAME="post.process" VALUE="movefile"/>
			<PARAM NAME="post.process.dir" VALUE="C:/app/spearnew/test/csv/processed"/>
			<PARAM NAME="wait.for.file" VALUE="true"/>
			<PARAM NAME="polling.interval" VALUE="5000"/>
			<PARAM NAME="polling.count" VALUE="5"/>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="nostro" TYPE="CSV">
			<PARAM NAME="result.wrap" VALUE="disconnected"/>
			<PARAM NAME="file.source.dir" VALUE="C:/app/spearnew/test/csv/src"/>
			<PARAM NAME="file.pattern" VALUE="nostro1.csv"/>
			<PARAM NAME="file.delimiter" VALUE="comma"/>
			<PARAM NAME="file.processor" VALUE=""/>
			<PARAM NAME="column.count" VALUE="13"/>
			<PARAM NAME="header.line.number" VALUE="1"/>
			<PARAM NAME="validation.required" VALUE="false"/>
			<PARAM NAME="rejection.report.type" VALUE="file"/>
			<PARAM NAME="rejection.report.source" VALUE="C:/app/spearnew/test/csv/report"/>
			<PARAM NAME="fail.dir" VALUE="file"/>
			<PARAM NAME="wait.for.file" VALUE="false"/>
			<PARAM NAME="polling.interval" VALUE="5000"/>
			<PARAM NAME="polling.count" VALUE="5"/>
			<PARAM NAME="cache.type" VALUE="begin.app"/>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="currency" TYPE="DB">
			<QUERY><![CDATA[ select * from IN_CUR_CURRENCY]]></QUERY>
			<PARAM NAME="cache.type" VALUE="begin.app"/>
			<PARAM NAME="resource" VALUE="DSGINS71"/>
			<PARAM NAME="fetch.size" VALUE="0"/>
			<PARAM NAME="result.wrap" VALUE="connected"/>
		</DATA-PROVIDER>	
		<DATA-PROVIDER NAME="entity" TYPE="DB">
			<QUERY><![CDATA[select * from IN_ENT_ENTITY ]]></QUERY>
			<PARAM NAME="resource" VALUE="DSGINS71"/>
			<PARAM NAME="result.wrap" VALUE="connected"/>
			<PARAM NAME="cache.type" VALUE="begin.app"/>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="cnp" TYPE="DB">
			<QUERY><![CDATA[ select * from IN_CNP_CNTR_PARTY  ]]></QUERY>
			<PARAM NAME="cache.type" VALUE="begin.cycle"/>
			<PARAM NAME="resource" VALUE="DSGINS71"/>
			<PARAM NAME="result.wrap" VALUE="connected"/>
			<PARAM NAME="fetch.size" VALUE="100"/>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="semaphore_select" TYPE="DB">
			<QUERY><![CDATA[ select PROC_STATUS from SPR_TEST ]]></QUERY>
			<PARAM NAME="resource" VALUE="DSGINS71"/>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="testselect" TYPE="DB">
			<QUERY><![CDATA[ select *  from cs_db..cd_sec_status ]]></QUERY>
			<PARAM NAME="resource" VALUE="SYBASE"/>
			<PARAM NAME="fetch.size" VALUE="5"/>
		</DATA-PROVIDER>

		<DATA-PROVIDER NAME="fit" TYPE="DB">
			<QUERY><![CDATA[ INSERT INTO BR_FIT_FIXED_INCOME_TRADE ( FIT_ID,
			FIT_TRADE_REF_NO,
			FIT_ENTITY_ID,
			FIT_TRADE_TYPE,
			FIT_TRADE_DATE,
			FIT_EFF_DATE,
			FIT_MATURITY_DATE,
			FIT_BROKER_ID,
			FIT_BOOK_ID,
			FIT_PRODUCT_ID,
			FIT_NOTIONAL_CURR_ID,
			FIT_NOTIONAL_AMT,
			FIT_TRADER_ID,
			FIT_UPSTREAM_TRADER_CODE,
			FIT_NOMINAL_CASH,
			FIT_CS_BRO_AMT,
			FIT_PRICE,
			FIT_ISIN,
			FIT_BOND_MATURITY_DATE,
			FIT_BOND_CURR_ID,
			FIT_PURPOSE,
			FIT_CASH_VALUE,
			FIT_REPO_YEAR,
			FIT_MOD_DATE,
			FIT_MOD_REASON,
			FIT_MOD_TRADER_NAME,
			FIT_TRAN_NAME,
			FIT_TRADE_STATUS,
			FIT_UPSTREAM_CP_CODE,
			FIT_CREATE_BY,
			FIT_CREATE_DATETIME,
			FIT_DATASOURCE,
			FIT_FILE_ID,
			FIT_MOD_EVENT,
			FIT_NATURE) 
		 VALUES ( SEQ_BR_FIXED_INCOME_TRADE.NEXTVAL, '${csvextractor$TRADE NUMBER}', ${etty$ENT_ID}, 'SELL', TO_DATE('${csvextractor$Trade Date}', 'YYYY-MM-DD'), TO_DATE('${csvextractor$Start Date}', 'YYYY-MM-DD'), TO_DATE('${csvextractor$End Date}', 'YYYY-MM-DD'), ${cnp$CNP_ID},${bk$BK_ID},${prt$PRT_ID}, ${ccyN$CUR_ID}, ${csvextractor$Nominal (Face)},${trd$TRD_ID},  ${csvextractor$Trader Code (NTPA)}, ${csvextractor$Nominal (Cash)}, ${csvextractor$Broker Amount}, ${csvextractor$Price}, ${csvextractor$Bond ISIN}, TO_DATE('${csvextractor$Bond Mat. Date}', 'YYYY-MM-DD'), ${ccyB$CUR_ID},'${csvextractor$Purpose}', ${csvextractor$Cash Value}, '${csvextractor$Repo Year}', TO_DATE('${csvextractor$Mod Date}', 'YYYY-MM-DD'), '${csvextractor$Mod Reason}', '${csvextractor$Mod Trader}', '${csvextractor$Tran Name}', '${csvextractor$Mod Event}', '${csvextractor$Broker Code (HUGO)}', 'SPEAR', SYSDATE, 'VISION', 123, '${csvextractor$Mod Event}', '${csvextractor$Nature}') ]]></QUERY>
			<PARAM NAME="resource" VALUE="SYBASE"/>
			<PARAM NAME="fetch.size" VALUE="5"/>
		</DATA-PROVIDER>


	</DATA-PROVIDERS>
	<DATA-LOOKUP>
		<LOOKUP NAME="ccy"  DATA-PROVIDER="currency">
			<FILTER><![CDATA[
				columnStr("CUR_CODE")=${dbextractor$column_33}
				]]>
			</FILTER>
			<COLUMNS>
				<![CDATA[ columnStr("CUR_ID"),columnStr("CUR_CODE")]]>
			</COLUMNS>
		</LOOKUP>
		<LOOKUP NAME="etty" DEPENDS="ccy" DATA-PROVIDER="entity">
			<FILTER><![CDATA[
				columnStr("ENT_ALT_ENTITY_CODE")=${dbextractor$column_77}
				]]>
			</FILTER>
			<COLUMNS>
				<![CDATA[ columnStr("ENT_ID"), columnStr("ENT_CODE"),columnStr("ENT_DESC"),columnStr("ENT_REGION_CODE")]]>
			</COLUMNS>
		</LOOKUP>
		<LOOKUP NAME="nostro" DEPENDS="etty" DATA-PROVIDER="nostro">
			<FILTER><![CDATA[
				columnStr("NOS_REGION_CODE")=${etty$ENT_REGION_CODE} and columnStr("NOS_STATUS")='C'
				]]>
			</FILTER>
		</LOOKUP>
	</DATA-LOOKUP>
	<EXCEPTION-HANDLER>
		<HANDLER CLASS="com.cs.sg.spear.core.exception.SpearExceptionHandler" NAME="default.exception.handler"/>
		<HANDLE EXCEPTION="com.cs.sg.spear.core.exception.EventNotifierException" HANDLER="default.exception.handler">
			<ERROR CODE="DBINIT_EA_SQL_EXP" VALUE="" TYPE="fatal"/>
			<ERROR CODE="SEMAPHORE_BA_LOCKED" VALUE="" TYPE="fatal"/>
			<ERROR CODE="SEMAPHORE_BA_PROVIDER_NOT_FOUND" VALUE="" TYPE="fatal"/>
			<ERROR CODE="MQ_INIT_BEGIN_APP_JMS_EXP" VALUE="" TYPE="fatal"/>
			<ERROR CODE="MQ_INIT_BEGIN_APP_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="SEMAPHORE_EA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BA_DATA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_EC_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_EC_DATA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BC_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BC_DATA_EXP" VALUE="" TYPE="ignore"/>
		</HANDLE>
		<HANDLE EXCEPTION="com.cs.sg.spear.core.exception.InitializationException" HANDLER="default.exception.handler">
			<ERROR CODE="TOKEN_DBPARAM_EXIST" VALUE="" TYPE="ignore"/>
			<ERROR CODE="APP_INITIALIZATION_EXP" VALUE="" TYPE="fatal"/>
			<ERROR CODE="DB_INIT_BEGIN_APP_SQL_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="DB_INIT_BEGIN_APP_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="MANDATORY_PARAM_MISSING" VALUE="" TYPE="ignore"/>
		</HANDLE>
		<HANDLE EXCEPTION="com.cs.sg.spear.core.exception.ResourceException" HANDLER="default.exception.handler">
			<ERROR CODE="SQL_EXCEPTION_CON" VALUE="" TYPE="fatal"/>
			<ERROR CODE="DB_DATASOURCE_CREATION" VALUE="" TYPE="fatal"/>
			<ERROR CODE="DB_BATCH_NOT_SUPPORT" VALUE="" TYPE="fatal"/>
		</HANDLE>
	</EXCEPTION-HANDLER>
</SPEAR-CONFIG>
