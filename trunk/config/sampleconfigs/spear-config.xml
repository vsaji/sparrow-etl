<?xml version="1.0" encoding="UTF-8"?>
<!--Sample XML file generated by XML Spy v4.4 U (http://www.xmlspy.com)-->
<SPEAR-CONFIG xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="C:\app\DB-FOBOCA\schema\spear_NEW.xsd">
	<MODULE>
		<NAME>Test Application</NAME>
		<DESCRIPTION>For Testing</DESCRIPTION>
		<CYCLE-DEPENDENCIES>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.ShutdownTimeCheckDependant"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.EndCycleCheckDependant"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.ProcessTerminationCheckDependant"/>
			<ASSERTER CLASS="com.cs.sg.spear.core.cycledependency.CycleCountCheckDependant"/>
		</CYCLE-DEPENDENCIES>
		<MODULE-PARAM>
		   <PARAM NAME="spear.semaphore.check" VALUE="false"/>
		   <PARAM NAME="spear.keyassigner" VALUE="com.cs.sg.spear.impl.assigner.RoundRobinKeyAssigner"/>
		   <PARAM NAME="spear.process.name" VALUE="SPEAR_TMS_JP"/>
		   <PARAM NAME="spear.run.interval" VALUE="10000"/>
  		   <PARAM NAME="spear.shutdown.format" VALUE="HH:mm"/>
		   <PARAM NAME="spear.shutdown" VALUE="16:04"/>
		   <PARAM NAME="spear.cycle.count" VALUE="1"/>
		</MODULE-PARAM>
	</MODULE>
	
	<DATA-EXTRACTOR NAME="dbextractor">
		<PARAM NAME="data.provider" VALUE="depo_pos"/>
	</DATA-EXTRACTOR>

	<DATA-TRANSFORMER NAME="String" CLASS="com.cs.sg.spear.impl.transformer.DefaultDataTransformer" POOL-SIZE="150" THREAD-COUNT="1">
	</DATA-TRANSFORMER>

	<DATA-WRITERS ON-ERROR="ignore" THREAD-COUNT="5">
		<WRITER NAME="writer3" CLASS="com.cs.sg.spear.impl.writer.DBDataWriter" >
			<PARAM NAME="single.reference" VALUE="false"/>
			<PARAM NAME="data.provider" VALUE="u3"/>
			<PARAM NAME="key.name" VALUE="writer3"/>
		</WRITER>
	</DATA-WRITERS>
<RESOURCES>
		<RESOURCE NAME="DSGINS71OLD" TYPE="DB">
			<PARAM NAME="driverClassName" VALUE="oracle.jdbc.OracleDriver"/>
			<PARAM NAME="connectionUrl" VALUE="jdbc:oracle:thin:@(description=(address_list= (address=(host=DSGINS71) (protocol=tcp)(port=1522))(address=(host=DSGINS72)(protocol=tcp) (port=1522)) (load_balance=no)(failover=yes))(connect_data=(service_name= DSGINS70.WORLD)))"/>
			<PARAM NAME="userName" VALUE="inspire_dev"/>
			<PARAM NAME="password" VALUE="jakarta81"/>
			<PARAM NAME="poolSize" VALUE="25"/>
			<PARAM NAME="poolOnStart" VALUE="false"/>
			<PARAM NAME="maxWait" VALUE="5000"/>
			<PARAM NAME="defaultAutoCommit" VALUE="true"/>
		</RESOURCE>
		<RESOURCE NAME="DSGINS71" TYPE="DB">
			<PARAM NAME="driverClassName" VALUE="oracle.jdbc.OracleDriver"/>
			<PARAM NAME="connectionUrl" VALUE="jdbc:oracle:thin:@(description=(address_list= (address=(host=DSGINS51) (protocol=tcp)(port=1522))(address=(host=DSGINS52)(protocol=tcp) (port=1522)) (load_balance=no)(failover=yes))(connect_data=(service_name= DSGINS50.WORLD)))"/>
			<PARAM NAME="userName" VALUE="inspire_dev"/>
			<PARAM NAME="password" VALUE="inspire_dev"/>
			<PARAM NAME="poolSize" VALUE="25"/>
			<PARAM NAME="poolOnStart" VALUE="false"/>
			<PARAM NAME="maxWait" VALUE="5000"/>
			<PARAM NAME="defaultAutoCommit" VALUE="true"/>
		</RESOURCE>
		<RESOURCE NAME="CSVDB" TYPE="CSV">
			<PARAM NAME="filePath" VALUE="C:\app\DB-FOBOCA\samples"/>
			<PARAM NAME="separator" VALUE=","/>
			<PARAM NAME="suppressHeaders" VALUE="false"/>
			<PARAM NAME="headerRowNumber" VALUE="1"/>
			<PARAM NAME="createHeader" VALUE="false"/>
			<PARAM NAME="fileNameExtention" VALUE=".csv"/>
			<PARAM NAME="filePattern" VALUE=""/>
		</RESOURCE>
		<RESOURCE NAME="MQDEVE" TYPE="MQ">
			<PARAM NAME="hostname" VALUE="sgs45d-093.sg.csfb.com"/>
			<PARAM NAME="port" VALUE="1414"/>
			<PARAM NAME="channel" VALUE="SGUITD01_SVRCONN"/>
			<PARAM NAME="qmanager" VALUE="SGUITD01"/>
		</RESOURCE>
		<RESOURCE NAME="JMSTEST" TYPE="JMS">
			<PARAM NAME="jmsType" VALUE="queue"/>
			<PARAM NAME="providerUrl" VALUE="t3://sgl45a-0106.sg.csfb.com:10100"/>
			<PARAM NAME="initialContextFactoy" VALUE="weblogic.jndi.WLInitialContextFactory"/>
			<PARAM NAME="connectionFactory" VALUE="inspire.queueconnectionfactory"/>
		</RESOURCE>
	</RESOURCES>
<SERVICES>
		<SERVICE NAME="semaphore" CLASS="com.cs.sg.spear.impl.services.DBSemaphoreService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true" DEPENDS="s1">
			<PARAM NAME="check.status" VALUE="semaphore_select"/>
			<PARAM NAME="update.status" VALUE="semaphore_update"/>			
			<PARAM NAME="pre.start.status" VALUE="C"/>
			<PARAM NAME="post.start.status" VALUE="P"/>
			<PARAM NAME="end.status" VALUE="C"/>
			<PARAM NAME="termination.status" VALUE="K"/>
		</SERVICE>
		<SERVICE NAME="s1" CLASS="com.cs.sg.spear.core.services.TestService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true"/>
		<SERVICE NAME="s2" CLASS="com.cs.sg.spear.core.services.TestService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true" DEPENDS="s5"/>
		<SERVICE NAME="s3" CLASS="com.cs.sg.spear.core.services.TestService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true" DEPENDS="s5"/>
		<SERVICE NAME="s4" CLASS="com.cs.sg.spear.core.services.TestService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true" DEPENDS="s2"/>
		<SERVICE NAME="s5" CLASS="com.cs.sg.spear.core.services.TestService" CYCLE-NOTIFICATION="true" APP-NOTIFICATION="true" DEPENDS="s1"/>
	</SERVICES>	
	<DATA-PROVIDERS>
		<DATA-PROVIDER NAME="brinvoice" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71" FETCH-SIZE="15" RESULT-WRAP="connected"><![CDATA[ select * from BC_MCE_MCRY_EXEC where rownum < 15 ]]>			</QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="counterparty" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71" FETCH-SIZE="10" RESULT-WRAP="connected"><![CDATA[ select * from IN_CNP_CNTR_PARTY where CNP_STATUS!='D' and CNP_CNTR_PARTY_TYPE not in ('Broker','Counterparty')]]>			</QUERY>
			<PARAM NAME="cache.type" VALUE="begin.app"/>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="entity" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71" FETCH-SIZE="20" RESULT-WRAP="connected"><![CDATA[ select * from IN_ENT_ENTITY ]]></QUERY>
			<PARAM NAME="cache.type" VALUE="begin.app"/>
		</DATA-PROVIDER>
		
		<DATA-PROVIDER NAME="depo_pos" TYPE="CSV">
			<PARAM NAME="fetch.size" VALUE="15"/>
			<PARAM NAME="result.wrap" VALUE="connected"/>
			<PARAM NAME="file.source.dir" VALUE="c:/app/DB-FOBOCA/samples"/>
			<PARAM NAME="file.pattern" VALUE="BC_POETS_BOOK_AP_OTH20070525.csv"/>
			<PARAM NAME="file.delimiter" VALUE="comma"/>
			<PARAM NAME="file.processor" VALUE=""/>
			<PARAM NAME="column.count" VALUE="13"/>
			<PARAM NAME="header.line.number" VALUE="2"/>
			<PARAM NAME="validation.required" VALUE="true"/>
			<PARAM NAME="error.report.type" VALUE="file"/>
			<PARAM NAME="error.report.source" VALUE="file"/>
			<PARAM NAME="fail.dir" VALUE="file"/>
			<PARAM NAME="wait.for.file" VALUE="false"/>
			<PARAM NAME="polling.interval" VALUE="5000"/>
			<PARAM NAME="polling.count" VALUE="5"/>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="depo_pos1" TYPE="CSV">
			<PARAM NAME="fetch.size" VALUE="10"/>
			<PARAM NAME="result.wrap" VALUE="connected"/>

			<PARAM NAME="file.source.dir" VALUE="c:/app/DB-FOBOCA/samples"/>
			<PARAM NAME="file.pattern" VALUE="pipeSaperated*.*"/>
			<PARAM NAME="file.delimiter" VALUE="pipe"/>
			<PARAM NAME="column.definition" VALUE="{c1:6,c2:6,c3:12,c4:3,c5:1,c6:8,c7:3,c8:4,c9:4,c10:4,c11:4,c12:5}"/>
			<PARAM NAME="file.manager" VALUE=""/>

			<PARAM NAME="suppress.header" VALUE="true"/>
			<PARAM NAME="header.row.number" VALUE="2"/>
			<PARAM NAME="validation.required" VALUE="true"/>

			<PARAM NAME="process.error.report.type" VALUE="file"/>
			<PARAM NAME="error.report.source" VALUE="file"/>
			<PARAM NAME="fail.dir" VALUE="file"/>

			<PARAM NAME="wait.for.file" VALUE="true"/>
			<PARAM NAME="polling.interval" VALUE="5000"/>
			<PARAM NAME="polling.count" VALUE="5"/>

		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="fileDetail" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71" FETCH-SIZE="0" RESULT-WRAP="connected"><![CDATA[ select * from IN_FID_FILE_DETAIL where FID_ID=%%dbextractor$MCE_FILE_ID%% ]]></QUERY>
		</DATA-PROVIDER>	
		<DATA-PROVIDER NAME="curreny" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71" FETCH-SIZE="20" RESULT-WRAP="connected"><![CDATA[ select * from IN_CUR_CURRENCY ]]></QUERY>
			<PARAM NAME="cache.type" VALUE="begin.app"/>
		</DATA-PROVIDER>	
		<DATA-PROVIDER NAME="semaphore_select" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71" FETCH-SIZE="0" RESULT-WRAP="disconnected"><![CDATA[ select PROC_STATUS from SPR_TEST ]]></QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="ssi" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71" FETCH-SIZE="0" RESULT-WRAP="connected"><![CDATA[ select * from IN_SSI_STAN_SETTLE_INSTR ]]></QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="semaphore_update" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71"><![CDATA[ update SPR_TEST set PROC_STATUS=?,MOD_DATETIME=SYSDATE where PROCESS_NAME='SPR_TEST' ]]></QUERY>
		</DATA-PROVIDER>		
		<DATA-PROVIDER NAME="updater1" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71"><![CDATA[ update BR_INV_INVOICE set INV_BUSINESS_STATUS=? where INV_ID=? ]]></QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="updater4" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71"><![CDATA[ update BR_INV_INVOICE set INV_MOD_BY='%%processname%%' where INV_ID=? ]]></QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="u1" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71"><![CDATA[ insert into BR_OME_OUT_MSG_EMAIL (OME_ID,OME_SUBJECT,OME_TO_ADDR) VALUES (?,?,?)]]></QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="u2" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71"><![CDATA[ insert into BR_SC_STMT_CONVERSATION (SC_ID,SC_FILE_NAME) VALUES  (%%dbextractor$MCE_ID%%,'%%cp$CNP_NAME%%')]]></QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="u3" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71"><![CDATA[ INSERT INTO BR_FOTS_FOTS_FEED ( BR_FOTS_FOTS_FEED.FOTS_ID, BR_FOTS_FOTS_FEED.FOTS_RISK_ID, BR_FOTS_FOTS_FEED.FOTS_BROKERAGE_AMT, BR_FOTS_FOTS_FEED.FOTS_BROKER_CODE, BR_FOTS_FOTS_FEED.FOTS_PAY_REF, BR_FOTS_FOTS_FEED.FOTS_CREATED_DATETIME, BR_FOTS_FOTS_FEED.FOTS_MODIFIED_DATETIME, BR_FOTS_FOTS_FEED.FOTS_BUSINESS_DATE, BR_FOTS_FOTS_FEED.FOTS_FILE_ID, BR_FOTS_FOTS_FEED.FOTS_BRO3_FLAG, BR_FOTS_FOTS_FEED.FOTS_TRADE_DATE ) 
		 VALUES ( %%dbextractor$MCE_ID%%, ?, ?, '%%ccy$CUR_ID%%', 'KJDHKJDK', SYSDATE, SYSDATE, ?, %%cp$CNP_ID%%, '%%dbextractor$MCE_SIDE%%', NULL )]]></QUERY>
		</DATA-PROVIDER>
		<DATA-PROVIDER NAME="u4" TYPE="DB">
			<QUERY DB-SOURCE="DSGINS71"><![CDATA[ update BR_FOTS_FOTS_FEED set FOTS_MODIFIED_DATETIME=?, FOTS_BROKER_CODE=? where FOTS_FILE_ID=?]]></QUERY>
		</DATA-PROVIDER>		
	</DATA-PROVIDERS>
	<DATA-LOOKUP>
		<LOOKUP NAME="ccy" CLASS="com.cs.sg.spear.impl.lookup.GenericLookupObject" DEPENDS="" DATA-PROVIDER="curreny">
			<FILTER><![CDATA[
				columnInt("CUR_ID")=%%dbextractor$MCE_CURR_ID%%
				]]>
			</FILTER>
			<COLUMNS>
				<![CDATA[ column("CUR_ID")]]>
			</COLUMNS>

		</LOOKUP>
		<LOOKUP NAME="etty" CLASS="com.cs.sg.spear.impl.lookup.GenericLookupObject" DEPENDS="ccy" DATA-PROVIDER="entity">
			<FILTER><![CDATA[
				columnInt("ENT_ID")=%%dbextractor$MCE_ENTITY_ID%%
				]]>
			</FILTER>
			<COLUMNS>
				<![CDATA[ column("ENT_ID"), column("ENT_CODE"),column("ENT_DESC")]]>
			</COLUMNS>
		</LOOKUP>
		<LOOKUP NAME="cp" CLASS="com.cs.sg.spear.impl.lookup.GenericLookupObject" DEPENDS="ccy" DATA-PROVIDER="counterparty">
			<FILTER><![CDATA[
				columnInt("CNP_ID")=%%dbextractor$MCE_CNTR_PARTY_ID%%
				]]>
			</FILTER>
		</LOOKUP>

	</DATA-LOOKUP>
	<EXCEPTION-HANDLER>
		<HANDLER CLASS="com.cs.sg.spear.core.exception.SpearExceptionHandler" NAME="default.exception.handler"/>
		<HANDLE EXCEPTION="com.cs.sg.spear.core.exception.EventNotifierException" HANDLER="default.exception.handler">
			<ERROR CODE="DBINIT_EA_SQL_EXP" VALUE="" TYPE="fatal"/>
			<ERROR CODE="SEMAPHORE_BA_LOCKED" VALUE="" TYPE="fatal"/>
			<ERROR CODE="SEMAPHORE_BA_PROVIDER_NOT_FOUND" VALUE="" TYPE="fatal"/>
			<ERROR CODE="MQ_INIT_BEGIN_APP_JMS_EXP" VALUE="" TYPE="fatal"/>
			<ERROR CODE="MQ_INIT_BEGIN_APP_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="SEMAPHORE_EA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BA_DATA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_EC_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_EC_DATA_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BC_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="CACHE_PROVIDER_BC_DATA_EXP" VALUE="" TYPE="ignore"/>
		</HANDLE>
		<HANDLE EXCEPTION="com.cs.sg.spear.core.exception.InitializationException" HANDLER="default.exception.handler">
			<ERROR CODE="TOKEN_DBPARAM_EXIST" VALUE="" TYPE="ignore"/>
			<ERROR CODE="APP_INITIALIZATION_EXP" VALUE="" TYPE="fatal"/>
			<ERROR CODE="DB_INIT_BEGIN_APP_SQL_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="DB_INIT_BEGIN_APP_EXP" VALUE="" TYPE="ignore"/>
			<ERROR CODE="MANDATORY_PARAM_MISSING" VALUE="" TYPE="ignore"/>
		</HANDLE>
		<HANDLE EXCEPTION="com.cs.sg.spear.core.exception.ResourceException" HANDLER="default.exception.handler">
			<ERROR CODE="SQL_EXCEPTION_CON" VALUE="" TYPE="fatal"/>
			<ERROR CODE="DB_DATASOURCE_CREATION" VALUE="" TYPE="fatal"/>
			<ERROR CODE="DB_BATCH_NOT_SUPPORT" VALUE="" TYPE="fatal"/>
		</HANDLE>
	</EXCEPTION-HANDLER>
</SPEAR-CONFIG>
